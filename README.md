# 这是一个未完成的物理模拟项目，学习用
- 上传github仅作留档用

## 目前的问题：
- 如何构建有效控制循环？每100ms刷新一次，刷新函数调用其他函数时传入一个t=0.1，但是刷新函数怎么知道它要调用哪个函数呢🤔我知道了，事件检测，不对，感觉不对，但又想不出其他实现
- 如何处理碰撞呢？判断线段是否相交——为此我需要三个函数：将多边形的顶点转换为多个向量，将向量构建为表达式，判断表达式是否相交
  - 或者能不能直接通过一个object顶点的坐标是否在另一个object中来判断？🤔
  - 我们可以得到一个obj中每个line有一个起点，终点，而碰撞检测是在判断两条线的位置关系
  - 一条线其中一个点的两坐标和另一点的两坐标位于另一线的两侧
  - 怎么判断是两侧？主动线的两个方向各对被动线的各点进行一次减法，如果两点任一方向得到的结果为异号，则可以认为相交吗？还需要验证
- ~~那么何时反弹呢？需要计算角度，那就需要对线段取向量——这个函数已经提到过了，此外还需要一个取角度的函数~~  （这条似乎可以被忽略了，但暂做保留）
- 首部和尾部落地如何做出区分呢？重力受力在质心但碰撞受力不在，这时合力是切向的，会产生角动量，因此会旋转，且方向不同——这里需要那些模块？我需要一个取质心到碰撞点向量的函数？我没学过大学物理怎么办😭
- 那又回到了上一个问题，何时反弹？首尾端触地应该反弹吗？平行触地呢？——由动量定理决定
- 滑行怎么做？计算合外力用牛顿第二定律——需要摩擦力模型，obj结构体还得加成员
- 跳呢？点击时给一个t恒定的F，方向垂直于地面——又是动量定理
- 我们总结一下两个物体碰撞时需要进行的处理：相交检测通过后触发碰撞，碰撞时调用动量定理和角动量定理。这个过程中两个obj需要交换哪些参数？
  - 质量，速度，质心位置，角速度，碰撞检测得到的方向和坐标，还有什么？
- 还有巨大的一个问题，地图怎么绘制？更大的问题，如何自动生成？我把这个问题视为解决上述所有逻辑问题之后的最终问题。

### 我要做什么？
- [x] 首先，向量构建和碰撞检测，这是一切的基础
- [ ] 下一步：构建控制循环 <--现在到这里
- [ ] 动量定理和角动量定理
- [ ] 借助上两个定理构建碰撞逻辑
- [ ] 阶段性测试
- [ ] 图形化，可以被插入任何阶段，但我目前没有做的意愿

- 25.9.18 完成了基本运算的构建，并确定了未来的计划
  - 然而我这里决定控制循环最后做是绝对错误的决定--25.9.20
- 25.9.19 完成了物理核心中的相交检测，必须暂时更改方向了，不然后续验证将非常困难，我需要做一个可以将引擎内容具体化的东西，图形化或控制循环，前者看来比较简单
- 25.9.20 决定搁置图形化，先做控制循环，我发现我显然还是偏好抽象，困难，但简易的任务，胜过具体，简单，但繁琐的任务
- 25.9.21 控制循环神功小成，可以进行简单的模拟循环，还没有将碰撞检测加入循环，在此之前得定义一些环境object，它们不主动进行碰撞检测